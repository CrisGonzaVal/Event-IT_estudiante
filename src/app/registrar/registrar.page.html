<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>Registro de Usuario</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <!-- Tarjeta del formulario de registro -->
  <ion-card class="register-card">
    <ion-card-header>
      <ion-card-title>
        <h2>Crea Tu Cuenta</h2>
      </ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <!-- Nombre -->
      <ion-item>
        <ion-label position="floating">Nombre</ion-label>
        <ion-input type="text" placeholder="Ingresa tu nombre" formControlName="nombre"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="loginForm.get('nombre')?.invalid && loginForm.get('nombre')?.touched">
        <p>* Nombre es obligatorio</p>
      </ion-text>

      <!-- Email -->
      <ion-item>
        <ion-label position="floating">Email</ion-label>
        <ion-input type="email" placeholder="Ingresa tu email" formControlName="email"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
        <p *ngIf="loginForm.get('email')?.hasError('required')">* Email es obligatorio</p>
        <p *ngIf="loginForm.get('email')?.hasError('email')">* Ingresa un email válido</p>
      </ion-text>

      <!-- RUT -->
      <ion-item>
        <ion-label position="floating">RUT</ion-label>
        <ion-input type="text" placeholder="Ingresa tu RUT" formControlName="rut"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="loginForm.get('rut')?.invalid && loginForm.get('rut')?.touched">
        <p>* RUT es obligatorio</p>
      </ion-text>

      <!-- Carrera -->
      <ion-item>
        <ion-label>Carrera</ion-label>
        <ion-select interface="action-sheet" placeholder="Selecciona tu carrera" formControlName="carrera">
          <ion-select-option value="Ing. informatica">Ing. en Informática</ion-select-option>
          <ion-select-option value="Tec. Analista Programador">Tecnico Analista Programador</ion-select-option>
          <ion-select-option value="Ing. redes">Ing. en Redes</ion-select-option>
        </ion-select>
      </ion-item>

      <!-- Jornada -->
      <ion-item>
        <ion-label>Jornada</ion-label>
        <ion-select interface="action-sheet" placeholder="Selecciona tu jornada" formControlName="jornada">
          <ion-select-option value="Diurno">Diurno</ion-select-option>
          <ion-select-option value="Vespertino">Vespertino</ion-select-option>
        </ion-select>
      </ion-item>

      <!-- Sección -->
      <ion-item>
        <ion-label>Sección</ion-label>
        <ion-select interface="action-sheet" placeholder="Selecciona tu sección" formControlName="seccion">
          <ion-select-option value="010d">010d</ion-select-option>
          <ion-select-option value="010v">010v</ion-select-option>
          <ion-select-option value="011d">011d</ion-select-option>
          <ion-select-option value="011v">011v</ion-select-option>
          <ion-select-option value="012d">012d</ion-select-option>
          <ion-select-option value="012v">012v</ion-select-option>
        </ion-select>
      </ion-item>

      <!-- Contraseña -->
      <ion-item>
        <ion-label position="floating">Contraseña</ion-label>
        <ion-input type="password" placeholder="Crea una contraseña" formControlName="password">
          <ion-input-password-toggle slot="end"></ion-input-password-toggle>
        </ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
        <p *ngIf="loginForm.get('password')?.hasError('required')">* Contraseña es obligatoria</p>
        <p *ngIf="loginForm.get('password')?.hasError('minlength')">* Mínimo 8 caracteres</p>
      </ion-text>

      <!-- Confirmar Contraseña -->
      <ion-item>
        <ion-label position="floating">Confirmar Contraseña</ion-label>
        <ion-input type="password" placeholder="Reingresa tu contraseña" formControlName="confpassword">
          <ion-input-password-toggle slot="end">
          </ion-input-password-toggle></ion-input>
      </ion-item>

      <!-- Botón de Registro -->
      <ion-button expand="block" color="primary" (click)="crearUsuario()" [disabled]="!loginForm.valid" id="open-loading">
        Registrarme
      </ion-button>
      <ion-loading trigger="open-loading" message="Procesando Registro..." duration="3000"></ion-loading>
    </ion-card-content>
  </ion-card>
</ion-content>