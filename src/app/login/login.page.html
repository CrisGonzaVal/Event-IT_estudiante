<ion-header [translucent]="true">
</ion-header>

<ion-content [fullscreen]="true">

  
  <ion-toolbar>
      <ion-img class="logo sinfondo" src="assets/Event It.jpeg"></ion-img>
  </ion-toolbar>
  <ion-card>
    <ion-card-header>

       <ion-title style="text-align: center;">Iniciar Sesión</ion-title>
    </ion-card-header>
    <ion-card-content>
     <form [formGroup]="loginForm"> 
      <ion-item>
        <ion-input label="Email: " label-placement="floating"  type="text" placeholder=" Ingrese su email" formControlName="email"></ion-input>
      </ion-item>

      <div id="alerta" *ngIf="loginForm.get('email')?.invalid && (loginForm.get('email')?.dirty || 
                  loginForm.get('email')?.touched)">
        <div id="alerta" *ngIf="loginForm.get('email')?.hasError('required')">
          *email es obligatorio
        </div>
        <div id="alerta" *ngIf="loginForm.get('email')?.hasError('email')">
          *El email debe tener un formato válido.
        </div>
      </div>

      <ion-item>
        <ion-input label="Contraseña: " label-placement="floating" type="password" placeholder=" Ingrese su contraseña" formControlName="password">
          <ion-input-password-toggle slot="end" size="small">

          </ion-input-password-toggle></ion-input>
      </ion-item>

      <div id="alerta" *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.dirty || 
                 loginForm.get('password')?.touched)">
        <div id="alerta" *ngIf="loginForm.get('password')?.hasError('required')">
          *Password es obligatoria
        </div>
        <div id="alerta" *ngIf="loginForm.get('password')?.hasError('minlength')">
         *Password debe tener mínimo 8 caracteres
        </div>
      </div>
      <!-- finaL Alertas-->
      <ion-item lines="none">
        <ion-button fill="clear" style="font-size: 10px;">¿Olvidaste tu contraseña?</ion-button>
      </ion-item>

      <div style="text-align: center;">
        <ion-button (click)="login()" [disabled]="!loginForm.valid" id="open-loading" fill="solid">
          LogIn
        </ion-button>
      

        <ion-loading trigger="open-loading" message="Validando Cuenta..." duration="500"></ion-loading>
      </div>

      <ion-item lines="none">
        <ion-label style="text-align: center;">¿No tienes cuenta?</ion-label>
      </ion-item>

      <div style="text-align: center;">
        <ion-button (click)="registrar()"  fill="solid" color="danger">
          Registrarse
        </ion-button>
      </div>
    </form>
    </ion-card-content>
  </ion-card>

</ion-content>  
<ion-footer>
  <ion-toolbar color="primary">
    <ion-title style="font-size: 16px;">Event IT 2024</ion-title>
    <ion-buttons slot="end">

      <ion-button fill="clear">
        <ion-icon name="logo-instagram"></ion-icon>
      </ion-button>

      <ion-button fill="clear">
        <ion-icon name="logo-github"></ion-icon>
      </ion-button>

      <ion-button fill="clear">
        <ion-icon name="logo-linkedin"></ion-icon>
      </ion-button>
      
    </ion-buttons>
  </ion-toolbar>
</ion-footer>

